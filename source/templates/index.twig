{% extends "core/layout.twig" %} 
{% set title = "AxiomSL" %} 
{% set class = "frontpage open-menu" %} 
{% block body %} 
{% include 'blocks/aside.twig' %} 
{% include 'blocks/header.twig' %} 
<main class="main-content">
    {% include 'blocks/contacts.twig' %} 
    {% include 'blocks/card.twig' %} 
</main>
{% endblock %}
{% block scripts %}
<script>
    var stickySidebar = $('.sticky');

    if (stickySidebar.length > 0) {
        var stickyHeight = stickySidebar.height(),
            sidebarTop = stickySidebar.offset().top - 20;
    }

    // on scroll move the sidebar
    $(window).scroll(function() {
        if (stickySidebar.length > 0) {
            var scrollTop = $(window).scrollTop();

            if (sidebarTop < scrollTop) {
                stickySidebar.css('top', scrollTop - sidebarTop);

                // stop the sticky sidebar at the footer to avoid overlapping
                var sidebarBottom = stickySidebar.offset().top + stickyHeight,
                    stickyStop = $('.main-content').offset().top + $('.main-content').height();
                if (stickyStop < sidebarBottom) {
                    var stopPosition = $('.main-content').height() - stickyHeight;
                    stickySidebar.css('top', stopPosition);
                }
            } else {
                stickySidebar.css('top', '0px');
            }
        }
    });

    $(window).resize(function() {
        if (stickySidebar.length > 0) {
            stickyHeight = stickySidebar.height();
        }
    });
</script>
{% endblock %}
